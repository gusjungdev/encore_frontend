import"./Cart.vue.3bd5ef3d.js";import{_ as x}from"./shopping-bag-dark.2d6a30dd.js";import{a as y,b as r,e as t,t as d,i as u,h as g,F as f,r as m,o as l,f as p}from"./entry.e1848fba.js";import v from"./CallAPI.6c08a124.js";import"./composables.9997b364.js";import"./axios.71f0d3ca.js";const b={data(){return{category_expand:!1,type_expand:!1,sort_list:[{index:0,class:"dropdown-item",text:"\u0E2A\u0E34\u0E19\u0E04\u0E49\u0E32\u0E43\u0E2B\u0E21\u0E48"},{index:1,class:"dropdown-item",text:"\u0E2A\u0E34\u0E19\u0E04\u0E49\u0E32\u0E41\u0E19\u0E30\u0E19\u0E33"},{index:2,class:"dropdown-item",text:"\u0E23\u0E32\u0E04\u0E32\u0E21\u0E32\u0E01\u0E44\u0E1B\u0E19\u0E49\u0E2D\u0E22"},{index:3,class:"dropdown-item",text:"\u0E23\u0E32\u0E04\u0E32\u0E19\u0E49\u0E2D\u0E22\u0E44\u0E1B\u0E21\u0E32\u0E01"}],catagory_items:[],product_items:[],login_data:{user_info:{fname:"",lname:"",email:"",mobile:"",consent:!1,address:[]},cart_data:[],order_history:[],favorite_item:[],login_status:!0},page_language:"TH",ImgEngpoint:"https://api.encorefashion.co/",wish_items:[]}},mounted(){const o=document.getElementById("typeDropdown");o.addEventListener("hidden.bs.dropdown",i=>{this.type_expand=!1}),o.addEventListener("show.bs.dropdown",i=>{this.type_expand=!0});const s=document.getElementById("categoryDropdown");s.addEventListener("hidden.bs.dropdown",i=>{this.category_expand=!1}),s.addEventListener("show.bs.dropdown",i=>{this.category_expand=!0}),this.GetWishList()},methods:{ReplaceComma(o){var s=String(o);try{var i=this.stringBefore(s,"."),a=this.stringAfter(s,".");a==null||a==null?s=s.replace(/(?!-)[^0-9.]/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","):(i=i.replace(/(?!-)[^0-9.]/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),s=i+"."+a)}catch(n){console.log(n)}return s},stringBefore(o,s){var i=o.split(s)[0];return i},stringAfter(o,s){var i=o.split(s)[1];return i},async GetWishList(){let o=sessionStorage.getItem("login_data");if(this.login_data=JSON.parse(o),this.login_data!=null)try{this.product_items=[],this.wish_items=[];const s=await v.methods.WishListApi(this.login_data.user_info.customerCode);if(s.data.status==200){let i=s.data.data;console.log(i),this.setProductData(i)}}catch{}},setProductData(o){for(let s=0;s<o.length;s++){let i=o[s];this.product_items.push(i);let a=this.product_items.length-1;this.product_items[s].index=a,console.log(this.ImgEngpoint),this.product_items[s].img=this.ImgEngpoint+i.product_PicCover,this.product_items[s].hover=!1,this.product_items[s].favorite=!0,this.product_items[s].discount=!1,this.wish_items.push({productCode:i.productCode})}console.log(this.product_items)},async UpdateFavorite(o){let s=sessionStorage.getItem("login_data"),i=JSON.parse(s),a=[],n=[];if(a=this.wish_items,o.favorite)for(let e=0;e<a.length;e++)a[e].productCode==o.productCode&&(n=a.splice(e,1));else a.push({productCode:o.productCode});let c={customerCode:i.user_info.customerCode,wish_Obj:a};try{(await v.methods.AddWishListApi(c)).data.status==200&&(o.favorite?this.product_items[o.index].favorite=!1:this.product_items[o.index].favorite=!0,this.wish_items=a)}catch(e){console.log(e)}console.log(this.wish_items),console.log(n)},AddToCart(o){this.$bus.$emit("addEvent",o)}}},w={class:"row g-0 app-font justify-content-center",style:{"padding-bottom":"65px"}},C=t("div",{class:"col-12 col-md-7"},[t("div",{class:"row g-0"},[t("div",{class:"col-12 text-center"},[t("h5",null,"\u0E2A\u0E34\u0E19\u0E04\u0E49\u0E32\u0E17\u0E35\u0E48\u0E09\u0E31\u0E19\u0E2A\u0E19\u0E43\u0E08")])])],-1),k={class:"col-12"},D={class:"navbar navbar-expand-lg bg-white",style:{padding:"0px 15px"}},B={class:"container-fluid p-0"},L={class:"col-4 d-flex align-items-center justify-content-start"},j={class:"ms-2"},z={class:"col-8 d-flex align-items-center justify-content-end"},E={class:"btn-group"},A={type:"button",class:"btn btn_light","data-bs-toggle":"dropdown",id:"typeDropdown","aria-expanded":"false"},I={class:"dropdown-menu",style:{"border-radius":"0",left:"-60px"}},F={class:"btn-group"},S={type:"button",class:"btn btn_light","data-bs-toggle":"dropdown",id:"categoryDropdown","aria-expanded":"false"},N={class:"dropdown-menu",style:{"border-radius":"0",left:"-60px"}},U={class:"col-12"},M={class:"row g-0",style:{padding:"0px 15px 35px 15px"}},P={class:"card product_item_frame"},R=["onMouseover","onMouseleave"],T=["src"],W={style:{width:"100%",height:"100%",position:"absolute","z-index":"2",top:"0px"}},O=["onClick"],G={key:1,class:"card item-hover-bar"},J={class:"row g-0 full_height"},V={class:"col-6"},H=["onClick"],q=t("img",{src:x},null,-1),K=[q],Q={class:"col-6"},X={class:"d-flex align-items-center justify-content-start full_height ps-2"},Y=["onClick"],Z=["onClick"],$={class:"card-body",style:{padding:"8px 0px"}},tt={class:"desktop-size row g-0 th-font"},et={class:"col-12 d-flex justify-content-start"},st={class:"card-text fs-16 fw-500"},ot={class:"col-12 d-flex justify-content-start"},it={class:"card-text",style:{"font-size":"14px","font-weight":"400"}},nt={class:"col-12 d-flex justify-content-start pt-2"},at={class:"card-text",style:{"font-size":"16px","font-weight":"400",color:"#292929"}},rt={key:0,class:"card-text ms-2",style:{"font-size":"16px","font-weight":"400",color:"#828282","text-decoration-line":"line-through"}},lt={class:"mobile-size row g-0 th-font"},dt={class:"col-12 d-flex"},ct={class:"fs-14 fw-500 float-start"},_t={class:"col-12 d-flex"},pt={class:"fs-12 fw-400 float-start"},ht={class:"col-12 d-flex align-items-start justify-content-start pt-2"},ut={class:"f14 fw-400"},gt=["onClick"],ft=["onClick"],mt=["onClick"];function vt(o,s,i,a,n,c){return l(),r("div",w,[C,t("div",k,[t("nav",D,[t("div",B,[t("div",L,[t("span",j,"\u0E17\u0E31\u0E49\u0E07\u0E2B\u0E21\u0E14 ("+d(n.product_items.length)+")",1)]),t("div",z,[t("div",E,[t("button",A,[t("span",{style:u(n.type_expand==!0?"color:#2D9CDB;":"")},"\u0E1B\u0E23\u0E30\u0E40\u0E20\u0E17",4),t("i",{class:g(n.type_expand==!0?"bi bi-chevron-up fs-15":"bi bi-chevron-down fs-15"),style:u(n.type_expand==!0?"margin-left: 10px; margin-bottom: 5px; color:#2D9CDB;":"margin-left: 10px; margin-bottom: 5px;")},null,6)]),t("ul",I,[(l(!0),r(f,null,m(n.sort_list,(e,h)=>(l(),r("li",{key:h},[t("a",{class:g(e.class)},d(e.text),3)]))),128))])]),t("div",F,[t("button",S,[t("span",{style:u(n.category_expand==!0?"color:#2D9CDB;":"")},"\u0E2B\u0E21\u0E27\u0E14\u0E2B\u0E21\u0E39\u0E48",4),t("i",{class:g(n.category_expand==!0?"bi bi-chevron-up fs-15":"bi bi-chevron-down fs-15"),style:u(n.category_expand==!0?"margin-left: 10px; margin-bottom: 5px; color:#2D9CDB;":"margin-left: 10px; margin-bottom: 5px;")},null,6)]),t("ul",N,[(l(!0),r(f,null,m(n.sort_list,(e,h)=>(l(),r("li",{key:h},[t("a",{class:g(e.class)},d(e.text),3)]))),128))])])])])])]),t("div",U,[t("div",M,[(l(!0),r(f,null,m(n.product_items,(e,h)=>(l(),r("div",{key:h,class:"col-6 col-md-3 pb-4"},[t("div",P,[t("div",{style:{position:"relative","z-index":"0",cursor:"pointer"},onMouseover:_=>e.hover=!0,onMouseleave:_=>e.hover=!1},[t("img",{src:e.img,style:{width:"100%","border-top-left-radius":"0px","border-top-right-radius":"0px",position:"relative","z-index":"1"}},null,8,T),t("div",W,[e.hover?(l(),r("div",{key:0,class:"card item-hover-img",onClick:_=>o.viewProduct(e)},null,8,O)):p("",!0),e.hover?(l(),r("div",G,[t("div",J,[t("div",V,[t("div",{class:"d-flex align-items-center justify-content-end full_height pe-2",onClick:_=>c.AddToCart(e)},K,8,H)]),t("div",Q,[t("div",X,[e.favorite?p("",!0):(l(),r("i",{key:0,class:"bi bi-heart fs-20 mt-1",onClick:_=>c.UpdateFavorite(e)},null,8,Y)),e.favorite?(l(),r("i",{key:1,class:"bi bi-heart-fill fs-20 mt-1",style:{color:"#fe5d8b"},onClick:_=>c.UpdateFavorite(e)},null,8,Z)):p("",!0)])])])])):p("",!0)])],40,R),t("div",$,[t("div",tt,[t("div",et,[t("span",st,d(e["product_Name"+n.page_language]),1)]),t("div",ot,[t("span",it,d(e["brand_name"+n.page_language])+" , ("+d(e.size)+"/"+d(e["color_"+n.page_language.toLocaleLowerCase()])+")",1)]),t("div",nt,[t("span",at,"\u0E3F "+d(c.ReplaceComma(e.price)),1),e.discount?(l(),r("span",rt,"\u0E3F "+d(c.ReplaceComma(e.base_price)),1)):p("",!0)])]),t("div",lt,[t("div",dt,[t("span",ct,d(e["product_Name"+n.page_language]),1)]),t("div",_t,[t("span",pt,d(e["brand_name"+n.page_language])+" , ("+d(e["color_"+n.page_language.toLocaleLowerCase()])+")",1)]),t("div",ht,[t("span",ut,"\u0E3F "+d(c.ReplaceComma(e.price)),1),t("img",{class:"me-2 mt-1",src:x,alt:"",style:{"margin-left":"auto"},onClick:_=>c.AddToCart(e)},null,8,gt),e.favorite?p("",!0):(l(),r("i",{key:0,class:"bi bi-heart fs-21",onClick:_=>c.UpdateFavorite(e)},null,8,ft)),e.favorite?(l(),r("i",{key:1,class:"bi bi-heart-fill fs-21",style:{color:"#fe5d8b"},onClick:_=>c.UpdateFavorite(e)},null,8,mt)):p("",!0)])])])])]))),128))])])])}const Dt=y(b,[["render",vt]]);export{Dt as default};
