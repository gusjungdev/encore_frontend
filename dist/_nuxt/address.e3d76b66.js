import"./Cart.vue.3bd5ef3d.js";import{a as y,b as o,e as s,f as l,F as f,r as v,w as n,v as m,G as g,q as w,o as a,t as _}from"./entry.e1848fba.js";import u from"./CallAPI.6c08a124.js";import"./composables.9997b364.js";import"./axios.71f0d3ca.js";const k=""+new URL("desktop-akar-icons_paper.3c8f9963.svg",import.meta.url).href,D={data(){return{address_page:"list",address_list:[],addressdata:{fname:"",lname:"",detail:"",phone_no:"",default:!1},userdata:{fname:"",lname:"",email:"",mobile:"",consent:!1},province_list:[],district_list:[],subdistrict_list:[],select_province:null,select_district:null,select_subdistrict:null,select_zipcode:null,isDefault:!1,created_by:"customer",login_data:{user_info:{fname:"",lname:"",email:"",mobile:"",consent:!1,address:[]},cart_data:[],order_history:[],favorite_item:[],login_status:!0},select_edit_addr:null,preselect:null,summary_status:!1}},mounted(){let e=sessionStorage.getItem("login_data");this.login_data=JSON.parse(e),new URLSearchParams(window.location.search).get("summary_status")=="edit"?this.summary_status=!0:this.summary_status=!1,this.GetAddressList(),this.GetProvince()},methods:{ChangePage(e){this.address_page=e},RouteNav(e){e=="address"&&(this.$router.push("/profile/address"),this.pathname="/profile/address")},async GetAddressList(){try{const e=await u.methods.GetAddressListApi(this.login_data.user_info.customerCode);if(e.data.status==200){let t=e.data.data;this.address_list=t}}catch{this.address_list=[]}},async GetProvince(){const e=await u.methods.getProvincesApi();if(e.data.status==200){let t=e.data.data;this.province_list=t}},async GetDistrict(){const e=await u.methods.GetDistrictsApi(this.select_province.provinceID);if(e.data.status==200){let t=e.data.data;this.district_list=t}},async GetSubDistrict(){const e=await u.methods.GetSubDistrictsApi(this.select_district.districtID);if(e.data.status==200){let t=e.data.data;this.subdistrict_list=t}},async SetSubDistrict(){console.log(this.select_subdistrict),this.select_zipcode=this.select_subdistrict.zipCode},async SaveAddressData(e){let t={firstname:this.addressdata.fname,lastname:this.addressdata.lname,phoneNO:this.addressdata.phone_no,detailAddress:String(this.addressdata.detail),no:"1",moo:"",soi:"",road:"",postcode:String(this.select_zipcode),province:String(this.select_province.province_NameTH),province_id:String(this.select_province.provinceID),district:String(this.select_district.district_NameTH),district_id:String(this.select_district.districtID),subdistrict:String(this.select_subdistrict.sub_DistrictNameTH),subdistrict_id:String(this.select_subdistrict.subDistrictID)},h={customerCode:this.login_data.user_info.customerCode,obj_address:t,isDefualt:this.addressdata.default?"1":"0",created_by:this.created_by};try{e=="add"&&(await u.methods.SaveAddressApi(h)).data.status==200&&(this.ChangePage("list"),this.GetAddressList()),e=="edit"&&(await u.methods.UpdateAddressApi(this.select_edit_addr,h)).data.status==200&&(this.ChangePage("list"),this.GetAddressList())}catch(p){console.log(p)}},convertJson(e){return JSON.parse(e)},async moveEdit(e){e.obj_address=this.convertJson(e.obj_address),console.log(e),this.ChangePage("edit"),this.select_edit_addr=e.addressID,this.addressdata.fname=e.obj_address.firstname,this.addressdata.lname=e.obj_address.lastname,this.addressdata.detail=e.obj_address.detailAddress,await this.setProvince(e.obj_address),await this.GetDistrict(),await this.setDistrict(e.obj_address),await this.GetSubDistrict(),await this.setSubDistrict(e.obj_address),this.addressdata.phone_no=e.obj_address.phoneNO,e.isDefualt==1?this.addressdata.default=!0:this.addressdata.default=!1},async moveDelete(e){this.select_edit_addr=e.addressID,(await u.methods.DeleteAddressApi(this.select_edit_addr)).data.status==200&&(this.ChangePage("list"),this.GetAddressList())},async moveDefault(e){console.log(e),this.select_edit_addr=e.addressID;let t=this.convertJson(e.obj_address),h={firstname:t.firstname,lastname:t.lastname,phoneNO:t.phoneNO,detailAddress:t.detailAddress,no:t.no,moo:t.moo,soi:t.soi,road:t.road,postcode:t.postcode,province:t.province,province_id:t.province_id,district:t.district,district_id:t.district_id,subdistrict:t.subdistrict,subdistrict_id:t.subdistrict_id},p={customerCode:e.customerCode,obj_address:h,isDefualt:e.isDefualt==1?String(0):String(1),created_by:e.created_by};try{(await u.methods.UpdateAddressApi(this.select_edit_addr,p)).data.status==200&&(this.ChangePage("list"),this.GetAddressList())}catch{}},async setProvince(e){for(let t=0;t<this.province_list.length;t++)this.province_list[t].provinceID==parseInt(e.province_id)&&(this.select_province=this.province_list[t])},async setDistrict(e){for(let t=0;t<this.district_list.length;t++)this.district_list[t].districtID==parseInt(e.district_id)&&(this.select_district=this.district_list[t])},async setSubDistrict(e){for(let t=0;t<this.subdistrict_list.length;t++)this.subdistrict_list[t].subDistrictID==parseInt(e.subdistrict_id)&&(this.select_subdistrict=this.subdistrict_list[t])},async preSelectAddr(e){console.log(e),this.preselect=e},async SelectSummaryAddr(){sessionStorage.setItem("summary_order_addr",JSON.stringify(this.preselect)),this.$router.push("/order-summary")}}},x={class:"row g-0 app-font justify-content-center",style:{"padding-bottom":"65px"}},S={key:0,class:"col-12 pt-5"},j=s("div",{class:"row g-0 justify-content-center"},[s("img",{src:k,class:"img-fluid",alt:"...",style:{width:"60px"}})],-1),C=s("div",{class:"row g-0 text-center pt-1"},[s("span",{class:"fs-14 fw-400",style:{color:"#E0E0E0"}},"\u0E22\u0E31\u0E07\u0E44\u0E21\u0E48\u0E21\u0E35\u0E23\u0E32\u0E22\u0E01\u0E32\u0E23")],-1),A={class:"row g-0 justify-content-center pt-4"},G={key:1,class:"col-12",style:{padding:"0px 65px"}},I={class:"row g-0"},N=s("div",{class:"col-5"},null,-1),P=s("div",{class:"col-7 text-center"},[s("span",{class:"fs-22 fw-500"},"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48")],-1),U={class:"col-4 pt-2"},J={key:0,class:"card no-radius"},V={class:"row g-0 p-3"},L=s("div",{class:"col-12"},[s("span",{class:"fs-16 fw-500"},"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 (\u0E04\u0E48\u0E32\u0E40\u0E23\u0E34\u0E48\u0E21\u0E15\u0E49\u0E19)")],-1),z={class:"col-12 pt-2"},O={class:"fs-14 fw-500"},T={class:"col-12 pt-2"},E={class:"fs-14 fw-400"},H={class:"col-8 pt-4",style:{"padding-left":"5rem"}},B=s("div",{class:"row g-0"},[s("span",{class:"fs-18 fw-500"},"\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48 (\u0E2D\u0E37\u0E48\u0E19\u0E46)")],-1),M=s("div",{class:"col-12"},[s("hr")],-1),R={class:"col-12 justify-content-end d-flex"},F=["onClick"],q=["onClick"],W=["onClick"],K=["onClick"],Q={key:0,class:"col-1 pt-2 justify-content-center d-flex"},X=["onClick"],Y={class:"col-11"},Z={class:"row g-0"},$={class:"fs-16 fw-500"},ss={class:"fs-16 fw-400"},ts={class:"row g-0 justify-content-center"},es=s("div",{class:"col-12"},[s("hr")],-1),is=["disabled"],ds=s("span",{style:{"font-size":"16px"}},"\u0E43\u0E0A\u0E49\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E19\u0E35\u0E49",-1),os=[ds],as={key:2,class:"col-12 pt-5"},rs={class:"row g-0 justify-content-center"},ls={class:"col-7"},cs={class:"row g-0 text-center"},ns={key:0},_s={key:1},us={class:"row g-0"},hs={class:"col-12"},ps={class:"row g-0 pt-3"},fs={class:"col-6"},vs={class:"row g-0 pe-2"},ms=s("div",{class:"col-12 d-flex justify-content-start"},[s("span",{class:"kanit-font fs-16 fw-500"},"\u0E0A\u0E37\u0E48\u0E2D")],-1),bs={class:"col-12 pt-2"},gs={class:"col-6"},ys={class:"row g-0 ps-2"},ws=s("div",{class:"col-12 d-flex justify-content-start"},[s("span",{class:"kanit-font fs-16 fw-500"},"\u0E19\u0E32\u0E21\u0E2A\u0E01\u0E38\u0E25")],-1),ks={class:"col-12 pt-2"},Ds={class:"row g-0 pt-3"},xs={class:"col-6"},Ss={class:"row g-0 pe-2"},js=s("div",{class:"col-12 d-flex justify-content-start"},[s("span",{class:"kanit-font fs-16 fw-500"},"\u0E08\u0E31\u0E07\u0E2B\u0E27\u0E31\u0E14")],-1),Cs={class:"col-12 pt-2"},As=["value"],Gs={class:"col-6"},Is={class:"row g-0 ps-2"},Ns=s("div",{class:"col-12 d-flex justify-content-start"},[s("span",{class:"kanit-font fs-16 fw-500"},"\u0E40\u0E02\u0E15/\u0E2D\u0E33\u0E40\u0E16\u0E2D")],-1),Ps={class:"col-12 pt-2"},Us=["value"],Js={class:"row g-0 pt-3"},Vs={class:"col-6"},Ls={class:"row g-0 pe-2"},zs=s("div",{class:"col-12 d-flex justify-content-start"},[s("span",{class:"kanit-font fs-16 fw-500"},"\u0E41\u0E02\u0E27\u0E07/\u0E15\u0E33\u0E1A\u0E25")],-1),Os={class:"col-12 pt-2"},Ts=["value"],Es={class:"col-6"},Hs={class:"row g-0 ps-2"},Bs=s("div",{class:"col-12 d-flex justify-content-start"},[s("span",{class:"kanit-font fs-16 fw-500"},"\u0E23\u0E2B\u0E31\u0E2A\u0E44\u0E1B\u0E23\u0E29\u0E13\u0E35\u0E22\u0E4C")],-1),Ms={class:"col-12 pt-2"},Rs={class:"row g-0 pt-3"},Fs={class:"col-6"},qs={class:"row g-0 pe-2"},Ws=s("div",{class:"col-12 d-flex justify-content-start"},[s("span",{class:"kanit-font fs-16 fw-500"},"\u0E23\u0E32\u0E22\u0E25\u0E30\u0E40\u0E2D\u0E35\u0E22\u0E14\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48")],-1),Ks={class:"col-12 pt-2"},Qs={class:"col-6"},Xs={class:"row g-0 ps-2"},Ys=s("div",{class:"col-12 d-flex justify-content-start"},[s("span",{class:"kanit-font fs-16 fw-500"},"\u0E40\u0E1A\u0E2D\u0E23\u0E4C\u0E15\u0E34\u0E14\u0E15\u0E48\u0E2D\u0E1C\u0E39\u0E49\u0E23\u0E31\u0E1A\u0E2A\u0E34\u0E19\u0E04\u0E49\u0E32")],-1),Zs={class:"col-12 pt-2"},$s={class:"row g-0 pt-3"},st={class:"col-12"},tt={class:"form-check form-switch text-start"},et=s("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},"\u0E15\u0E31\u0E49\u0E07\u0E40\u0E1B\u0E47\u0E19\u0E04\u0E48\u0E32\u0E40\u0E23\u0E34\u0E48\u0E21\u0E15\u0E49\u0E19",-1),it={class:"col-12 d-flex justify-content-center",style:{"padding-top":"40px"}};function dt(e,t,h,p,d,r){return a(),o("div",x,[d.address_list.length==0&&d.address_page=="list"?(a(),o("div",S,[j,C,s("div",A,[s("button",{type:"button",class:"btn btn-outline-dark",style:{width:"354px",height:"44px","border-radius":"0"},onClick:t[0]||(t[0]=i=>r.ChangePage("add"))},"+ \u0E40\u0E1E\u0E34\u0E48\u0E21\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E43\u0E2B\u0E21\u0E48")])])):l("",!0),d.address_list.length>0&&d.address_page=="list"?(a(),o("div",G,[s("div",I,[N,P,s("div",U,[(a(!0),o(f,null,v(d.address_list,(i,c)=>(a(),o("div",{key:c,class:"row g-0"},[i.isDefualt==1?(a(),o("div",J,[s("div",V,[L,s("div",z,[s("span",O,_(r.convertJson(i.obj_address).firstname)+" "+_(r.convertJson(i.obj_address).lastname),1)]),s("div",T,[s("span",E,_(r.convertJson(i.obj_address).detailAddress),1)])])])):l("",!0)]))),128))]),s("div",H,[B,(a(!0),o(f,null,v(d.address_list,(i,c)=>(a(),o("div",{key:c,class:"row g-0"},[M,s("div",R,[s("span",{class:"ps-2 fs-16 fw-500 cl-sky mouse-pointer",onClick:b=>r.moveEdit(i)},"\u0E41\u0E01\u0E49\u0E44\u0E02",8,F),s("span",{class:"ps-2 fs-16 fw-500 cl-sky mouse-pointer",onClick:b=>r.moveDelete(i)},"\u0E25\u0E1A",8,q),i.isDefualt==0?(a(),o("span",{key:0,class:"ps-2 fs-16 fw-500 cl-sky mouse-pointer",onClick:b=>r.moveDefault(i)},"\u0E15\u0E31\u0E49\u0E07\u0E40\u0E1B\u0E47\u0E19\u0E04\u0E48\u0E32\u0E40\u0E23\u0E34\u0E48\u0E21\u0E15\u0E49\u0E19",8,W)):l("",!0),i.isDefualt==1?(a(),o("span",{key:1,class:"ps-2 fs-16 fw-500 cl-blind mouse-pointer",onClick:b=>r.moveDefault(i)},"\u0E15\u0E31\u0E49\u0E07\u0E40\u0E1B\u0E47\u0E19\u0E04\u0E48\u0E32\u0E40\u0E23\u0E34\u0E48\u0E21\u0E15\u0E49\u0E19",8,K)):l("",!0)]),d.summary_status?(a(),o("div",Q,[s("input",{class:"form-check-input",type:"radio",name:"radioAddr",id:"radioAddr1",value:"","aria-label":"...",onClick:b=>r.preSelectAddr(i)},null,8,X)])):l("",!0),s("div",Y,[s("div",Z,[s("span",$,_(r.convertJson(i.obj_address).firstname)+" "+_(r.convertJson(i.obj_address).lastname),1),s("span",ss,_(r.convertJson(i.obj_address).detailAddress),1)])])]))),128)),s("div",ts,[es,s("button",{type:"button",class:"btn btn-outline-dark no-radius mt-2",style:{width:"50%",height:"44px"},onClick:t[1]||(t[1]=i=>r.ChangePage("add"))},"+ \u0E40\u0E1E\u0E34\u0E48\u0E21\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E43\u0E2B\u0E21\u0E48"),d.summary_status?(a(),o("button",{key:0,type:"button",class:"btn btn-dark mt-2 ms-2",style:{width:"45%",height:"44px","border-radius":"0"},disabled:d.preselect==null,onClick:t[2]||(t[2]=i=>r.SelectSummaryAddr())},os,8,is)):l("",!0)])])])])):l("",!0),d.address_page=="add"||d.address_page=="edit"?(a(),o("div",as,[s("div",rs,[s("div",ls,[s("div",cs,[d.address_page=="add"?(a(),o("h5",ns,"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48\u0E43\u0E2B\u0E21\u0E48")):l("",!0),d.address_page=="edit"?(a(),o("h5",_s,"\u0E41\u0E01\u0E49\u0E44\u0E02\u0E17\u0E35\u0E48\u0E2D\u0E22\u0E39\u0E48")):l("",!0)]),s("div",us,[s("div",hs,[s("div",ps,[s("div",fs,[s("div",vs,[ms,s("div",bs,[n(s("input",{"onUpdate:modelValue":t[3]||(t[3]=i=>d.addressdata.fname=i),type:"text",class:"form-control br-0",placeholder:"","aria-label":"","aria-describedby":""},null,512),[[m,d.addressdata.fname]])])])]),s("div",gs,[s("div",ys,[ws,s("div",ks,[n(s("input",{"onUpdate:modelValue":t[4]||(t[4]=i=>d.addressdata.lname=i),type:"text",class:"form-control br-0",placeholder:"","aria-label":"","aria-describedby":""},null,512),[[m,d.addressdata.lname]])])])])]),s("div",Ds,[s("div",xs,[s("div",Ss,[js,s("div",Cs,[n(s("select",{"onUpdate:modelValue":t[5]||(t[5]=i=>d.select_province=i),class:"form-select","aria-label":"Default select example",onChange:t[6]||(t[6]=i=>r.GetDistrict())},[(a(!0),o(f,null,v(d.province_list,(i,c)=>(a(),o("option",{key:c,value:i},_(i.province_NameTH),9,As))),128))],544),[[g,d.select_province]])])])]),s("div",Gs,[s("div",Is,[Ns,s("div",Ps,[n(s("select",{"onUpdate:modelValue":t[7]||(t[7]=i=>d.select_district=i),class:"form-select","aria-label":"Default select example",onChange:t[8]||(t[8]=i=>r.GetSubDistrict())},[(a(!0),o(f,null,v(d.district_list,(i,c)=>(a(),o("option",{key:c,value:i},_(i.district_NameTH),9,Us))),128))],544),[[g,d.select_district]])])])])]),s("div",Js,[s("div",Vs,[s("div",Ls,[zs,s("div",Os,[n(s("select",{"onUpdate:modelValue":t[9]||(t[9]=i=>d.select_subdistrict=i),class:"form-select","aria-label":"Default select example",onChange:t[10]||(t[10]=i=>r.SetSubDistrict())},[(a(!0),o(f,null,v(d.subdistrict_list,(i,c)=>(a(),o("option",{key:c,value:i},_(i.sub_DistrictNameTH),9,Ts))),128))],544),[[g,d.select_subdistrict]])])])]),s("div",Es,[s("div",Hs,[Bs,s("div",Ms,[n(s("input",{"onUpdate:modelValue":t[11]||(t[11]=i=>d.select_zipcode=i),type:"text",class:"form-control br-0",placeholder:"","aria-label":"","aria-describedby":""},null,512),[[m,d.select_zipcode]])])])])]),s("div",Rs,[s("div",Fs,[s("div",qs,[Ws,s("div",Ks,[n(s("textarea",{"onUpdate:modelValue":t[12]||(t[12]=i=>d.addressdata.detail=i),class:"form-control","aria-label":"With textarea"},null,512),[[m,d.addressdata.detail]])])])]),s("div",Qs,[s("div",Xs,[Ys,s("div",Zs,[n(s("input",{"onUpdate:modelValue":t[13]||(t[13]=i=>d.addressdata.phone_no=i),type:"text",class:"form-control br-0",placeholder:"","aria-label":"","aria-describedby":""},null,512),[[m,d.addressdata.phone_no]])])])])]),s("div",$s,[s("div",st,[s("div",tt,[n(s("input",{"onUpdate:modelValue":t[14]||(t[14]=i=>d.addressdata.default=i),class:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault"},null,512),[[w,d.addressdata.default]]),et])])]),s("div",it,[d.address_page=="add"?(a(),o("button",{key:0,type:"button",class:"btn btn-dark kanit-font btn-disable",style:{"border-radius":"0",width:"354px",height:"44px"},onClick:t[15]||(t[15]=i=>r.SaveAddressData("add"))},"\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01")):l("",!0),d.address_page=="edit"?(a(),o("button",{key:1,type:"button",class:"btn btn-dark kanit-font btn-disable",style:{"border-radius":"0",width:"354px",height:"44px"},onClick:t[16]||(t[16]=i=>r.SaveAddressData("edit"))},"\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01")):l("",!0)])])])])])])):l("",!0)])}const nt=y(D,[["render",dt]]);export{nt as default};
